<!DOCTYPE html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js"> <!--<![endif]-->
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <title>Cseroldal - ember</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <!-- Place favicon.ico and apple-touch-icon.png in the root directory -->

        <link rel="stylesheet" href="css/base.css">
      <!--  <script src="lib/jquery/modernizr-2.6.2.min.js"></script>-->
    </head>
    <body>
        <!--[if lt IE 7]>
            <p class="browsehappy">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</p>
        <![endif]-->
        <div id="ohsnap"></div>

        <script type="text/x-handlebars">
            <nav class="navbar navbar-default">
                <div class="container-fluid">
                    <!-- Brand and toggle get grouped for better mobile display -->
                    <div class="navbar-header">
                          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                                <span class="sr-only">Toggle navigation</span>
                                <span class="icon-bar"></span>
                                <span class="icon-bar"></span>
                                <span class="icon-bar"></span>
                          </button>
                          <a class="navbar-brand" href="#">{{appName}}</a>
                    </div>

                    <!-- Collect the nav links, forms, and other content for toggling -->
                    <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
                        <ul class="nav navbar-nav">
                            {{#link-to "index" tagName='li' }}{{#link-to "index"}}Home{{/link-to}}{{/link-to}}
                            {{#if auth.currentUser}}
                                    {{#link-to "gameHub" tagName='li' }}{{#link-to "gameHub"}}Jatek{{/link-to}}{{/link-to}}
                            {{/if}}

                            {{#if auth.currentUser}}

                                {{#if auth.security.permissions.godmode}}
                                    {{#link-to "manage" tagName='li' }}
                                        {{#link-to "manage"}}
                                        <span class="glyphicon glyphicon-wrench"></span>
                                        Manage
                                        {{/link-to}}
                                    {{/link-to}}
                                {{/if}}

                                {{#link-to "user" tagName='li' }}
                                    {{#link-to "user"}}
                                    Profile {{auth.currentUser.name}}
                                    {{/link-to}}
                                {{/link-to}}
                                <li class="pull-right">
                                    <a href="#" {{action 'logout'}}>
                                        Logout
                                    </a>
                                </li>
                            {{else}}
                                {{#link-to "login" tagName='li' }}{{#link-to "login"}}Login{{/link-to}}{{/link-to}}
                                {{#link-to "register" tagName='li' }}{{#link-to "register"}}Register{{/link-to}}{{/link-to}}
                            {{/if}}
                        </ul>
                    </div>
                </div>
            </nav>
            <div class="container">
                {{#each auth in auths}}
                <div class="row">
                    {{auth.email}}
                    {{auth.uid}}
                    {{auth.user}}
                    {{auth.guid}}
                </div>
                {{/each}}
            </div>

            <div class="container">
                <div class="row">
                    {{outlet}}
                </div>
            </div>

        </script>

        <script type="text/x-handlebars" data-template-name="home">
            <div class="container">
                <div class="row">
                    HOME SWEET HOME
                </div>
            </div>
        </script>

        <script type="text/x-handlebars" data-template-name="gamehub">
            <div class="container">
                <div class="row">
                    <div class="gamelist col-md-4">
                        <div class="panel">
                            <div class="panel-body">
                                {{#link-to "gameHub.new" class="btn btn-primary" role="button" activeClass="selected" replace=true}}New{{/link-to}}
                                {{#link-to "gameHub.settings" class="btn btn-default" role="button" activeClass="selected" replace=true}}Settings{{/link-to}}
                            </div>
                        </div>
                        <div class="list-group">
                            {{#each model}}
                                {{#link-to "gameHub.view" this class="list-group-item"}}
                                    {{title}}
                                    <div class="small">
                                        {{shortDescription}}
                                    </div>
                                {{/link-to}}
                            {{/each}}
                        </div>
                    </div>
                    <div class="gamedetail col-md-8">
                        {{outlet}}
                    </div>
                </div>
            </div>
        </script>

        <!-- <script type="text/x-handlebars" data-template-name="gamelist">
            <ul>
                {{#each}}
                <li class="game">
                    <h3>{{title}}</h3>
                </li>
                {{/each}}
            </ul>
        </script>
         -->
        <script type="text/x-handlebars" data-template-name="gameHub/index">
            <div>
                <p class="text-primary">Select game</p>
                <p>
                Ideas:
                    <ul class="small">
                        <li>Show in this container some statistics</li>
                    </ul>
                </p>
            </div>
        </script>

        <script type="text/x-handlebars" data-template-name="gamehub/view">
            <div>
                <h3>
                    {{title}}
                    <button class="btn btn-warning pull-right" {{action 'delete'}}>Delete</button>
                    {{#if isOwner}}
                    {{#link-to "gameHub.edit" this class="btn btn-default pull-right" role="button"}}
                        Edit
                    {{/link-to}}
                    {{/if}}
                </h3>
                <div class="small list-group">
                    <span>Location:</span>
                    {{#each location in locations}}
                        <span class="list-item-bullet">
                            {{location.label}}
                        </span>
                    {{/each}}
                </div>
                <p><quote>{{shortDescription}}</quote></p>
                <p>{{description}}</p>
            </div>
        </script>

        <script type="text/x-handlebars" data-template-name="gamehub/edit">
            <div>
                <h2>Játék szerkesztése</h2>
                <form class="" role="form">
                    <div class="form-group">
                        <label class="control-label" for="game-title">Cím:</label>
                        {{input type="text" placeholder="A játék címe" value=title id="game-title" class="form-control"}}
                    </div>
                    <div class="form-group">
                        <label class="control-label" for="game-location">Helyigény:</label>
                        {{view Ember.Select
                            id="game-location"
                            prompt="Válassz helyszínt"
                            content=gameLocations
                            optionValuePath="content.id"
                            optionLabelPath="content.label"
                            value=selectedLocation}}
                        <button class="btn btn-primary pull-right" {{action 'addLocation'}}>Add</button>
                    </div>
                    <div class="small list-group">
                        <span>Location:</span>
                        {{#each location in locations}}
                            <span class="list-item-bullet">
                                {{location.label}}
                                <a class="glyphicon glyphicon-remove btn-nostyle" {{action 'removeLocation' location}}>
                                </a>
                            </span>
                        {{/each}}
                    </div>
                    <div class="form-group">
                        <label class="control-label" for="game-short-description">Rövid leírás:</label>
                        {{input type="text" placeholder="Rövid leírás" value=shortDescription id="game-short-description" class="form-control"}}
                    </div>
                    <div class="form-group">
                        <label class="control-label" for="game-description">Leírás:</label>{{textarea placeholder="Részletes leírás" value=description id="game-description" class="form-control"}}
                    </div>
                    <div class="form-group">
                        <label class="control-label" for="game-players-number">Játékosok száma:</label>{{input placeholder="min player-max player" value=playersNumber id="game-players-number" class="form-control"}}
                    </div>
                    <div class="form-group">
                        <label class="control-label" for="game-play-time">Játékidő:</label>{{input placeholder="min time-max time" value=playTime id="game-play-time" class="form-control"}}
                    </div>
                </form>
                <div class="clearfix">
                    <button class="btn pull-right" {{action 'cancel'}}>Cancel</button>
                    <button class="btn btn-primary pull-right" {{action 'save'}}>Save</button>
                </div>
            </div>
        </script>

        <script type="text/x-handlebars" data-template-name="gamehub/settings">
            <form class="" role="form">
                <div class="form-group">
                    <label class="control-label" for="location">New location:</label>
                    {{input type="text" placeholder="Add location" value=locationLabel id="location" class="form-control" action="addLocation"}}
                    <!-- <button class="btn pull-right" {{action 'addLocation'}}>Add</button> -->
                </div>
                <div class="small list-group">
                    {{#each location in locations}}
                        <span class="list-item-bullet">
                            {{location.label}}
                            <a class="glyphicon glyphicon-remove btn-nostyle" {{action 'removeLocation' location}}>
                            </a>
                        </span>
                    {{/each}}
                </div>
            </form>
        </script>

        <script type="text/x-handlebars" data-template-name="login">
            <div {{bind-attr class=":text-info  hideMessage:hidden"}}>
                Az keresett oldal megtekintéséhez be kell lépni!
            </div>
            <form class="" role="form">
                <div class="form-group">
                    <label class="control-label" for="username">Email:</label>
                    {{input type="text" placeholder="Email" value=email id="username" class="form-control"}}
                </div>
                <div class="form-group">
                    <label class="control-label" for="password">Jelszó:</label>
                    {{input type="password" placeholder="" value=password id="password" class="form-control"}}
                </div>
                <div class="form-group row">
                    <button class="btn btn-primary" {{action 'login'}}>Belépés</button>
                    <button class="btn" {{action 'loginGoogle'}}>Google bejelentkezés</button>
                    <button class="btn" {{action 'loginFacebook'}}>Facebook bejelentkezés</button>
                </div>
                <div>
                    <ul>
                        <li>Admin - admin@cseroldal.com / secret</li>
                        <li>One - one@cseroldal.com / secret</li>
                        <li>Two - two@cseroldal.com / secret</li>
                        <li>Three - three@cseroldal.com / secret</li>
                        <li>Four - four@cseroldal.com / secret</li>
                    </ul>
                </div>
            </form>
        </script>

        <script type="text/x-handlebars" data-template-name="register">
            <div>
                {{#if submitted}}
                <div class="message">
                    A kérelmed sikeresen el lett küldve. Feldolgozása után kapsz egy emailt a jelszavaddal.
                    {{#link-to "index" class="btn btn-primary" role="button" replace=true}}Vissza a kezdőoldalra{{/link-to}}
                </div>
                {{else}}
                <form class="form-horizontal" role="form">
                    <div class="form-group">
                        <label class="control-label" for="email">E-mail:</label>
                        {{input type="text" placeholder="E-mail cím" value=email id="email" class="form-control"}}
                    </div>
                    <div class="row">
                        <div class="form-group col-sm-6">
                            <label class="control-label" for="password">Jelszó:</label>
                            {{input type="password" placeholder="" value=password id="password" class="form-control"}}
                        </div>
                        <div class="form-group col-sm-6">
                            <label class="control-label" for="password_check">Jelszó ismét:</label>
                            {{input type="password" placeholder="" value=password_check id="password_check" class="form-control"}}
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="control-label" for="name">Név:</label>
                        {{input type="text" placeholder="Név" value=name id="name" class="form-control"}}
                    </div>
                    <div class="form-group">
                        <label class="control-label" for="message">Üzenet:</label>
                        {{input type="text" placeholder="" value=message id="message" class="form-control"}}
                    </div>
                    <div class="form-group row">
                        <button class="btn btn-primary" {{action 'subscribe'}} {{bind-attr disabled=formInvalid}}>Elküld</button>
                    </div>
                </form>
                {{/if}}
            </div>
        </script>

        <script type="text/x-handlebars" data-template-name="registerg">
            {{#if submitted}}
            <div class="message">
                A kérelmed sikeresen el lett küldve.
                {{#link-to "index" class="btn btn-primary" role="button" replace=true}}Vissza a kezdőoldalra{{/link-to}}
            </div>
            {{else}}
            <form class="" role="form">
                <div class="panel panel-info">
                    <div class="panel-heading">
                        Nem regisztrált felhasználó
                    </div>
                    <div class="panel-body">
                        Még nem vagy regisztrálva. Küldj egy kérelmet a feljelentkezése!
                    </div>
                </div>
                <div class="form-group">
                    <label class="control-label" for="email">E-mail:</label>
                    {{input type="text" placeholder="E-mail cím" value=email id="email" class="form-control"}}
                </div>
                <div class="form-group">
                    <label class="control-label" for="name">Név:</label>
                    {{input type="text" placeholder="Név" value=name id="név" class="form-control" readonly="readonly"}}
                </div>
                <div class="form-group">
                    <label class="control-label" for="message">Üzenet:</label>
                    {{input type="text" placeholder="" value=message id="message" class="form-control"}}
                </div>
                <div class="form-group row">
                    <button class="btn btn-primary" {{action 'subscribe'}}>Elküld</button>
                </div>
            </form>
            {{/if}}
        </script>

        <script type="text/x-handlebars" data-template-name="pending">
            <div class="panel panel-info">
                <div class="panel-body">
                    Feljelentkezési kérelmed még feldolgozás alatt áll.
                </div>
                <div class="panel-footer">
                {{#link-to "index" class="btn btn-primary" role="button" replace=true}}Vissza a kezdőoldalra{{/link-to}}
                </div>
            </div>

        </script>

        <script type="text/x-handlebars" data-template-name="unregister">
            <form class="" role="form">
                <div class="form-group">
                    Lejelentkezéshez adja meg a jelszavát!
                </div>
                <div class="form-group">
                    <label class="control-label" for="password">Jelszó:</label>
                    {{input type="password" placeholder="" value=password id="password" class="form-control"}}
                </div>

                <div class="form-group row">
                    <button class="btn" {{action 'unregister'}}>Lelépés</button>
                </div>
            </form>
        </script>

        <script type="text/x-handlebars" data-template-name="forbidden">
            <div class="">
                Az oldal nem elérhető, nincs meg a felhatalmazásod hozzá.
            </div>
        </script>

        <script type="text/x-handlebars" data-template-name="manage">
            <div class="container">
                <div class="row">
                    <h3>Manage Pending users</h3>
                    <div class="list-group">
                        {{#each pending in pendingAuths}}
                            <div class="list-group-item">{{pending.email}}
                                <button class="btn" {{action 'approve' pending}}>Approve</button>
                                <button class="btn" {{action 'reject' pending}}>Reject</button>
                            </div>
                        {{/each}}
                    </div>
                </div>
                <div class="row">
                    <h3>Manage Existing users</h3>
                    <div class="list-group">
                        {{#each user in users}}
                            <div class="list-group-item">{{user.name}}
                                <button class="btn" {{action 'delete' user}}>Delete</button>
                            </div>
                        {{/each}}
                    </div>
                </div>
            </div>
        </script>


        <script type="text/x-handlebars" data-template-name="user">
            <div class="row">
                {{outlet}}
            </div>
        </script>

        <script type="text/x-handlebars" data-template-name="user/index">
            <div class="container">
                <div class="row">
                    {{#link-to "user.edit"}}
                        Edit
                    {{/link-to}}
                </div>
                <div class="row">
                    View user profile
                </div>
            </div>
        </script>

        <script type="text/x-handlebars"
                data-template-name="user/edit">
            <div class="container">
                <div class="row">
                    Edit user profile
                </div>
                <form class="form-horizontal">
                  <div class="form-group">
                    <label for="familyname"
                           class="col-sm-2 control-label">
                           Family name
                    </label>
                    <div class="col-sm-10">
                      {{input id="familyname"
                              class="form-control"
                              type="text"
                              placeholder="Familyname"
                              value=userProfile.familyname
                              }}
                    </div>
                  </div>
                  <div class="form-group">
                    <label for="firstname"
                           class="col-sm-2 control-label">
                           First name
                    </label>
                    <div class="col-sm-10">
                        {{input id="firstname"
                                class="form-control"
                                type="text"
                                placeholder="Firstname"
                                value=userProfile.firstname
                                }}
                    </div>
                  </div>
                  <!-- <div class="form-group">
                    <div class="col-sm-offset-2 col-sm-10">
                      <div class="checkbox">
                        <label>
                          <input type="checkbox"> Remember me
                        </label>
                      </div>
                    </div>
                  </div>
                  <div class="form-group">
                    <div class="col-sm-offset-2 col-sm-10">
                      <button type="submit" class="btn btn-default">Sign in</button>
                    </div>
                  </div> -->
                </form>
            </div>
        </script>

        <!-- Library files -->
        <!-- <script src="//ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script> -->
        <!-- <script>window.jQuery || document.write('<script src="lib/jquery/1.10.2/jquery-1.10.2.min.js"><\/script>')</script> -->

        <script src="lib/jquery/1.10.2/jquery-1.10.2.min.js"></script>

        <script src="lib/bootstrap/3.0.3/js/bootstrap.min.js"></script>
        <script src="lib/moment.js/2.2.1/moment+langs.min.js"></script>
        <script src="lib/ohsnap/ohsnap.js"></script>

        <!-- <script src="lib/handlebars/3.0.0/handlebars-v3.0.0.js"></script> -->
        <script src="lib/ember/1.10.0/ember-template-compiler.js"></script>
        <script src="lib/ember/1.10.0/ember.debug.js"></script>

        <!-- Firebase -->
        <!-- <script src="https://cdn.firebase.com/js/client/1.0.21/firebase.js"></script> -->
        <script src="lib/firebase/2.2.2/firebase.js"></script>


        <!-- <script src="lib/ember.localstorage/localstorage_adapter.js"></script> -->

        <script src="js/plugins.js"></script>

        <!-- Project files -->
        <script src="js/application.js"></script>
        <script src="js/cseroldal.common.js"></script>
        <script src="js/route.js"></script>
        <script src="js/controllers/main_auth.js"></script>
        <script src="js/controllers/main_register.js"></script>
        <script src="js/controllers/main_registerg.js"></script>
        <script src="js/controllers/main_unregister.js"></script>
        <script src="js/controllers/main_login.js"></script>
        <script src="js/controllers/main_manage.js"></script>

        <script src="js/controllers/user.js"></script>

        <script src="js/controllers/game_detail.js"></script>
        <script src="js/controllers/game_edit.js"></script>
        <script src="js/controllers/game_settings.js"></script>

        <script src="js/models/_main.js"></script>
        <script src="js/models/auth.js"></script>
        <script src="js/models/user.js"></script>
        <script src="js/models/security.js"></script>

        <script src="js/models/game.js"></script>
        <script src="js/models/game_location.js"></script>

        <!-- REMOVE THIS
        <script>
            var myRef = new Firebase("https://<your-firebase>.firebaseio.com");
            var authClient = new FirebaseSimpleLogin(myRef, function(error, user) {
              if (error) {
                // an error occurred while attempting login
                console.log(error);
              } else if (user) {
                // user authenticated with Firebase
                console.log("User ID: " + user.uid + ", Provider: " + user.provider);
              } else {
                // user is logged out
              }
            });
        </script> -->

    </body>
</html>
